@model IEnumerable<WebQecPortal.Models.CourseOutline>

@{
    ViewBag.Title = "Index";
}

@using (Html.BeginForm("Index", "CourseOutlines", FormMethod.Post))
{
    <!-- Content Wrapper. Contains page content -->
    <div class="content-wrapper">
        <!-- Content Header (Page header) -->
        <div class="content-header">
            <div class="container-fluid">


                <div class="card bg-info text-white">
                    <div class="card-body">

                        <center><h3>Complaint</h3></center>

                    </div>
                </div>
                <hr>

                <div class="row">

                    @*<div class="col-md-1">
                            <div class="checkbox">
                                <label><input type="checkbox" value="">  All </label>
                            </div>
                        </div>*@
                    @*<div class="btn btn-outline-dark">
                            @Html.ActionLink("Create New", "Create", "CourseOutlines")
                        </div>*@
                    @*Semester:<input id="txtSemster" type="text" />*@
                    <br />
                    <br />



                    <div class="col-md-9">

                    </div>


                </div>
          

                    <div class="table100 ver1 m-b-110">
                      

                        <br>


                    </div>


                </div><!-- /.container-fluid -->
            </div>
        <div class="container">
            <div class="contact-form" id="downloadPDFData">
                <h3>Complaint Form</h3>

                <div class="container">
                    <form action="/action_page.php">


                        <label for="subject">Subject</label>
                        <textarea id="mySub" name="subject" placeholder="Write something.." style="height:100px"></textarea>

                        <label for="subject">Your Message   </label>
                        <textarea id="myText" name="subject" placeholder="Write something.." style="height:200px"></textarea>

                        <button type="submit" class="btn btn-secondary" onclick="sendMail(); return false">Send Complaint</button>

                    </form>
                </div>
                <style>
                    textarea {
                        width: 300px;
                        height: 150px;
                    }

                    body {
                        font-family: Arial, Helvetica, sans-serif;
                    }

                    * {
                        box-sizing: border-box;
                    }

                    input[type=text], select, textarea {
                        width: 100%;
                        padding: 12px;
                        border: 1px solid #ccc;
                        border-radius: 4px;
                        box-sizing: border-box;
                        margin-top: 6px;
                        margin-bottom: 16px;
                        resize: vertical;
                    }

                    input[type=submit] {
                        background-color: #04AA6D;
                        color: white;
                        padding: 12px 20px;
                        border: none;
                        border-radius: 4px;
                        cursor: pointer;
                    }

                        input[type=submit]:hover {
                            background-color: #45a049;
                        }

                    .container {
                        border-radius: 5px;
                        background-color: #f2f2f2;
                        padding: 20px;
                </style>
            </div>

            <div class="btn-group">
                <input type="button" id="downloadPDF" value="Export" />

            </div>
            <!-- /.content-header -->
            <!-- Main content -->
            <section class="content">
            </section>
            <!-- /.content -->
        </div>
    </div>
}
<!-- /.content-wrapper -->
<!--Searching Funtion-->
<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
@*<script type="text/javascript">
    $(function () {
        GetSemester();
        $("#txtSemester").keyup(function () {
            GetSemester();
        });
    });
    function GetCustomers() {
        var Semester = $.trim($("#txtSemester").val());
        $.ajax({
            type: "POST",
            url: "/CourseOutlines/SearchCourseOutline",
            data: "{Semester:'" + Semester + "'}",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            success: function (CourseOutlines) {
                var table = $("#tblSemester");
                table.find("tr:not(:first)").remove();
                $.each(CourseOutlines, function (i, CourseOutline) {
                    var table = $("#tblSemester");
                    var row = table[0].insertRow(-1);
                    $(row).append("<td />");
                    $(row).find("td").eq(0).html(CourseOutlines.Semester);

                });
            }
        });
    }
</script>*@

<!-- Control Sidebar -->
<aside class="control-sidebar control-sidebar-dark">
    <!-- Control sidebar content goes here -->
</aside>
<!-- /.control-sidebar -->
<!--jQuery Export file funtion START-->
<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.22/pdfmake.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/0.4.1/html2canvas.min.js"></script>
<script type="text/javascript">
    function getClippedRegion(image, x, y, width, height) {
        var canvas = document.createElement("canvas"),
            ctx = canvas.getContext("2d");

        canvas.width = width;
        canvas.height = height;

        //                   source region         dest. region
        ctx.drawImage(image, x, y, width, height, 0, 0, width, height);

        return {
            // Those are some pdfMake params
            image: canvas.toDataURL(),
            width: 500
        };
    }

    $("body").on("click", "#downloadPDF", function () {

        html2canvas($("#downloadPDFData")[0], {
            onrendered: function (canvas) {
                // split the canvas produced by html2canvas into several, based on desired PDF page height
                let splitAt = 775; // A page height which fits for "LETTER" pageSize...

                let images = [];
                let y = 0;
                while (canvas.height > y) {
                    images.push(getClippedRegion(canvas, 0, y, canvas.width, splitAt));
                    y += splitAt;
                }

                // PDF creation using pdfMake
                var docDefinition = {
                    content: images,
                    pageSize: "LETTER"
                };
                pdfMake.createPdf(docDefinition).download("NCEAC_FORM.pdf");
            }
        });
    });
</script>
<!--jQuery Export file funtion END-->
<!--Send Notification Funtion -->
<script>
    function sendMail() {
        var link = "mailto:sp18bsse0052@maju.edu.pk"
            + "?cc=sp18bsse0049@maju.edu.pk"
            + "&subject=" + encodeURIComponent(document.getElementById('mySub').value)
            + "&body=" + encodeURIComponent(document.getElementById('myText').value)
            ;
        window.location.href = link;
    }
</script>
<!-- ./wrapper -->
<!-- jQuery -->
<script src="../plugins/jquery/jquery.min.js"></script>
<!-- jQuery UI 1.11.4 -->
<script src="../plugins/jquery-ui/jquery-ui.min.js"></script>
<!-- Resolve conflict in jQuery UI tooltip with Bootstrap tooltip -->
<script>$.widget.bridge('uibutton', $.ui.button)</script>
<!-- Bootstrap 4 -->
<script src="../plugins/bootstrap/js/bootstrap.bundle.min.js"></script>
<!-- ChartJS -->
<script src="../plugins/chart.js/Chart.min.js"></script>
<!-- Sparkline -->
<script src="../plugins/sparklines/sparkline.js"></script>
<!-- JQVMap -->
<script src="../plugins/jqvmap/jquery.vmap.min.js"></script>
<script src="../plugins/jqvmap/maps/jquery.vmap.usa.js"></script>
<!-- jQuery Knob Chart -->
<script src="../plugins/jquery-knob/jquery.knob.min.js"></script>
<!-- daterangepicker -->
<script src="../plugins/moment/moment.min.js"></script>
<script src="../plugins/daterangepicker/daterangepicker.js"></script>
<!-- Tempusdominus Bootstrap 4 -->
<script src="../plugins/tempusdominus-bootstrap-4/js/tempusdominus-bootstrap-4.min.js"></script>
<!-- Summernote -->
<script src="../plugins/summernote/summernote-bs4.min.js"></script>
<!-- overlayScrollbars -->
<script src="../plugins/overlayScrollbars/js/jquery.overlayScrollbars.min.js"></script>
<!-- AdminLTE App -->
<script src="../dist/js/adminlte.js"></script>
<!-- AdminLTE for demo purposes -->
<script src="../dist/js/demo.js"></script>
<!-- AdminLTE dashboard demo (This is only for demo purposes) -->
<script src="../dist/js/pages/dashboard.js"></script>
